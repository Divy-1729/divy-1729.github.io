<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Blog</title>
  <link rel="stylesheet" href="styles.css" />
  <style>
    /* Extra spacing between the main title and the posts list */
    .container h1 {
      margin-bottom: 2.5rem; /* increase space under the title */
      line-height: 1.1;
    }

    /* Small improvements for post list spacing */
    .posts-list {
      display: block;
      margin-top: 0.5rem;
    }

    .post-preview {
      margin-bottom: 1.5rem;
      padding-bottom: 0.75rem;
      border-bottom: 1px solid rgba(0,0,0,0.06);
    }

    @media (min-width: 800px) {
      .container {
        padding-left: 2rem;
        padding-right: 2rem;
      }
    }
  </style>
</head>
<body>
  <main class="main">
    <div class="container">
      <h1>Blog</h1>
      <div id="blog-posts" class="posts-list"></div>
    </div>
  </main>

  <script>
    try {
      // Blog posts data
      const blogPosts = [
        {
          date: '2025-11-11',
          title: 'My favorite music to listen to',
          description: "I've spent some time curating my music taste. I spend a lot of time listening to music, so here are some recommendations.",
          slug: 'music_post'
        }
      ];

      // Helper to format ISO date to a nicer string
      function formatDate(iso) {
        if (!iso) return '';
        const d = new Date(iso);
        if (Number.isNaN(d.getTime())) return iso;
        return d.toLocaleDateString(undefined, { year: 'numeric', month: 'long', day: 'numeric' });
      }

      // Render posts into the page
      function renderBlogPosts() {
        const blogPostsContainer = document.getElementById('blog-posts');
        if (!blogPostsContainer) return;

        if (!blogPosts || blogPosts.length === 0) {
          blogPostsContainer.innerHTML = '<p style="color: var(--text-secondary);">Coming Soon</p>';
          return;
        }

        const html = blogPosts.map(post => {
          // Default to posts/<slug>.html. If your hosting uses folder-per-post, change to `posts/${post.slug}/`
          const url = `posts/${post.slug}.html`;
          return ''
            + '<article class="post-preview">'
            +   `<a class="post-link" href="${url}">`
            +     `<h2 class="post-title">${post.title}</h2>`
            +   '</a>'
            +   `<div class="post-meta">${formatDate(post.date)}</div>`
            +   `<p class="post-excerpt">${post.description}</p>`
            + '</article>';
        }).join('\n');

        blogPostsContainer.innerHTML = html;
      }

      // Initialize
      renderBlogPosts();
    } catch (err) {
      // Useful quick debugging info
      console.error('Error rendering blog page:', err);
      const blogPostsContainer = document.getElementById('blog-posts');
      if (blogPostsContainer) {
        blogPostsContainer.innerHTML = '<p style="color: var(--text-secondary);">Error loading posts. Check console for details.</p>';
      }
    }
  </script>
</body>
</html>
